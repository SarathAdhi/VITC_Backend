// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model EducationalDetails {
  id             Int     @id @default(autoincrement())
  faculty        Faculty @relation(fields: [facultyUuid], references: [uuid])
  facultyUuid    Int
  degree         String  @db.VarChar(20)
  university     String  @db.VarChar(100)
  specialization String
  graduatedYear  String
}

model ResearchDetails {
  faculty        Faculty  @relation(fields: [facultyUuid], references: [uuid])
  facultyUuid    Int      @unique
  specialization String[]
  orcid          String   @db.VarChar(255)
  scopus         String   @db.VarChar(255)
  googleScholar  String   @db.VarChar(255)
  hIndex         Int
  i10Index       Int
}

// model PatentPublishedDetails {
//   id                Int     @id @default(autoincrement())
//   faculty           Faculty @relation(fields: [facultyUuid], references: [uuid])
//   facultyUuid       Int
//   title             String
//   applicationNumber String
// }

model Faculty {
  uuid                                    Int                  @id @default(autoincrement())
  id                                      String               @unique
  salutation                              String               @db.VarChar(50)
  name                                    String               @db.VarChar(50)
  email                                   String               @unique
  image                                   String?
  designation                             String               @db.VarChar(50)
  department                              String               @db.VarChar(80)
  school                                  String               @db.VarChar(80)
  educationalDetails                      EducationalDetails[]
  postDoctoralExperience                  String?
  researchDetails                         ResearchDetails?
  // patentPublishedDetails                  PatentPublishedDetails[]
  consultancyProjectDetails               Json[]               @default([])
  completedConsultancyProjectDetails      Json[]               @default([])
  ongoingFundedProjectDetails             Json[]               @default([])
  completedFundedProjectDetails           Json[]               @default([])
  patentPublishedDetails                  Json[]               @default([])
  patentGrantedDetails                    Json[]               @default([])
  bookPublishedDetails                    Json[]               @default([])
  awardDetails                            String[]             @default([])
  majorInternationalCollaborationsDetails String[]             @default([])
  majorIndustryCollaborationsDetails      String[]             @default([])
  editorialExperience                     String?
  personalWebsite                         String?
  createdAt                               DateTime             @default(now())
}

model Admin {
  id        Int      @id @default(autoincrement())
  uuid      String   @unique @db.VarChar(50)
  username  String   @unique
  password  String   @db.VarChar(70)
  createdAt DateTime @default(now())
}
